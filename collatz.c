#include <stdio.h>
#include <limits.h>
#include <stdlib.h>
#include <stdbool.h>

int isPowerInt(unsigned int x, int max) {
  const unsigned int powers[] = {1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047,
    4095, 8191, 16383, 32767, 65535, 131071, 262143, 524287, 1048575, 2097151,
    4194303, 8388607, 16777215, 33554431, 67108863, 134217727, 268435455,
    536870911, 1073741823, 2147483647};
  if(!x) return 0;
  if(max==1) return 1;
  if(x&(powers[max-2])) return 0;
  return 1;
}

int isPowerLong(unsigned long x, int max) {
  const unsigned long powers[] = {1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047,
    4095, 8191, 16383, 32767, 65535, 131071, 262143, 524287, 1048575, 2097151,
    4194303, 8388607, 16777215, 33554431, 67108863, 134217727, 268435455,
    536870911, 1073741823, 2147483647, 4294967295, 8589934591, 17179869183,
    34359738367, 68719476735, 137438953471, 274877906943, 549755813887,
    1099511627775, 2199023255551, 4398046511103, 8796093022207, 17592186044415,
    35184372088831, 70368744177663, 140737488355327, 281474976710655,
    562949953421311, 1125899906842623, 2251799813685247, 4503599627370495,
    9007199254740991, 18014398509481983, 36028797018963967, 72057594037927935,
    144115188075855871, 288230376151711743, 576460752303423487,
    1152921504606846975, 2305843009213693951, 4611686018427387903,
    9223372036854775807};
    if(!x) return 0;
    if(max==1) return 1;
    if(x&(powers[max-2])) return 0;
    return 1;
}

int getMaxInt(unsigned int x) {
  const unsigned int powers[] = {4294967294, 4294967292, 4294967288, 4294967280,
    4294967264, 4294967232, 4294967168, 4294967040, 4294966784, 4294966272,
    4294965248, 4294963200, 4294959104, 4294950912, 4294934528, 4294901760,
    4294836224, 4294705152, 4294443008, 4293918720, 4292870144, 4290772992,
    4286578688, 4278190080, 4261412864, 4227858432, 4160749568, 4026531840,
    3758096384, 3221225472, 2147483648};
  int min=1, max=31, mid=16;
  if(!x) return 0;
  while(mid!=min && mid!=max) {
    if(x&(powers[mid-1])) min=mid+1;
    else max=mid;
    mid=(min+max)/2;
  }
  if(x&(powers[mid-1])) return mid+1;
  return mid;
}

int getMaxLong(unsigned long x) {
  const unsigned long powers[] = {18446744073709551614, 18446744073709551612,
    18446744073709551608, 18446744073709551600, 18446744073709551584,
    18446744073709551552, 18446744073709551488, 18446744073709551360,
    18446744073709551104, 18446744073709550592, 18446744073709549568,
    18446744073709547520, 18446744073709543424, 18446744073709535232,
    18446744073709518848, 18446744073709486080, 18446744073709420544,
    18446744073709289472, 18446744073709027328, 18446744073708503040,
    18446744073707454464, 18446744073705357312, 18446744073701163008,
    18446744073692774400, 18446744073675997184, 18446744073642442752,
    18446744073575333888, 18446744073441116160, 18446744073172680704,
    18446744072635809792, 18446744071562067968, 18446744069414584320,
    18446744065119617024, 18446744056529682432, 18446744039349813248,
    18446744004990074880, 18446743936270598144, 18446743798831644672,
    18446743523953737728, 18446742974197923840, 18446741874686296064,
    18446739675663040512, 18446735277616529408, 18446726481523507200,
    18446708889337462784, 18446673704965373952, 18446603336221196288,
    18446462598732840960, 18446181123756130304, 18445618173802708992,
    18444492273895866368, 18442240474082181120, 18437736874454810624,
    18428729675200069632, 18410715276690587648, 18374686479671623680,
    18302628885633695744, 18158513697557839872, 17870283321406128128,
    17293822569102704640, 16140901064495857664, 13835058055282163712,
    9223372036854775808};
    int min=1, max=63, mid=32;
    if(!x) return 0;
    while(mid!=min && mid!=max) {
      if(x&(powers[mid-1])) min=mid+1;
      else max=mid;
      mid=(min+max)/2;
    }
    if(x&(powers[mid-1])) return mid+1;
    return mid;
}

int main() {
  long *num = (long *) calloc(1024*1024*64, sizeof(long));
  unsigned int max = 0;
  return 0;
}
